title Бекенова Арайлым

participant заказчик
participant база
participant менеджер
participant склад
participant курьер

activate заказчик
заказчик->>база:вход в сайт\n
activate база

база->база:есть ли такой акк на базе\n
заказчик<<--база:ответ от базы есть ли такой акк/ нету
deactivate база
заказчик->>база:зарегистрироваться на сайте
activate база

база->база:пользователь успешно зарегистрировался 
заказчик<<--база:ответ от базы на регистрацию/ успешно
deactivate база

заказчик->база:делает заказ
activate база

база->менеджер:отправляет заказ менеджеру
activate менеджер

менеджер->менеджер:обрабатывает заказ
менеджер->>склад:отправляет запрос/ есть ли такой на складе\n
deactivate менеджер

activate склад
склад->склад:ищет этот продукт на складе

менеджер<<--склад:продукт есть
activate менеджер

deactivate склад

база<--менеджер:заказ принят
deactivate менеджер

заказчик<--база:ваш заказ принят
deactivate база

менеджер->>курьер:ищет свободного курьера\n
activate менеджер

activate курьер
менеджер<<--курьер:свободен/ принимает заказ
deactivate менеджер

менеджер->курьер:отправляет геоданные /склада где нужно забрать продукт/ и заказчика куда нужно доставить

activate менеджер

склад<--курьер:курьер пришел/ ожидает заказ что бы забрать\n
activate склад


менеджер<--склад:заказ забрал
deactivate менеджер

deactivate склад


заказчик<<--курьер:доставляет заказ


менеджер<<--курьер:заказ доставлен
activate менеджер

deactivate курьер

база<<--менеджер:заказ выполнен
activate база

deactivate менеджер

заказчик<<--база:заказ получен?\n
deactivate база
заказчик->>база:заказ получен

activate база

заказчик<<-база:оцените товар
deactivate заказчик


deactivate база
